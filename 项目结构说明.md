# 项目结构说明

## 📁 项目概览

智能文件重命名工具是一个结构清晰、功能完整的桌面应用程序，专门为私募基金运维人员设计。

## 🗂️ 文件结构

```
file_name_demo/
├── 📄 核心应用文件
│   ├── file_renamer_gui.py      # 主GUI应用程序 (74KB)
│   ├── deepseek_api_service.py  # DeepSeek API服务 (15KB)
│   └── ai_ocr_service.py        # AI OCR服务 (9.9KB)
│
├── 📦 构建和部署
│   ├── build_app.py             # 应用打包脚本 (3.5KB)
│   ├── requirements.txt         # 基础依赖 (95B)
│   └── requirements_gui.txt     # GUI依赖 (120B)
│
├── ⚙️ 配置文件
│   ├── config.json             # API配置文件 (144B)
│   └── .gitignore              # Git忽略文件 (280B)
│
├── 📚 文档说明
│   ├── README.md               # 项目主文档 (5.2KB)
│   ├── 使用说明.md             # 详细使用指南 (7.6KB)
│   └── 项目结构说明.md         # 本文档
│
├── 🧪 测试和开发
│   ├── test_file/              # 测试文件目录
│   └── __pycache__/            # Python缓存目录
│
└── 🐍 环境文件
    └── .venv/                  # Python虚拟环境
```

## 📋 文件详细说明

### 核心应用文件

#### file_renamer_gui.py (主应用程序)
- **功能**：PyQt6图形界面实现
- **特性**：
  - 现代化UI设计
  - 文件/文件夹选择
  - 配置管理界面
  - 进度显示和日志
  - 操作回滚功能
- **大小**：74KB，1950行代码

#### deepseek_api_service.py (AI服务)
- **功能**：DeepSeek API集成
- **特性**：
  - 智能文档分析
  - 内容提取优化
  - 错误处理和重试
  - 配置管理
- **大小**：15KB，405行代码

#### ai_ocr_service.py (OCR服务)
- **功能**：AI OCR服务封装
- **特性**：
  - 多引擎支持
  - 图片文字识别
  - PDF内容提取
  - 错误处理
- **大小**：9.9KB，268行代码

### 构建和部署

#### build_app.py (打包脚本)
- **功能**：使用PyInstaller打包应用
- **特性**：
  - 跨平台打包
  - 依赖管理
  - 图标和元数据配置
- **大小**：3.5KB，125行代码

#### requirements.txt (基础依赖)
```
pytesseract
pypdf
python-docx
chardet
tqdm
```

#### requirements_gui.txt (GUI依赖)
```
PyQt6
pyinstaller
pdfplumber
```

### 配置文件

#### config.json (API配置)
```json
{
    "deepseek_api_key": "your_api_key_here",
    "description": "DeepSeek API配置"
}
```

#### app_config.json (应用配置)
```json
{
    "extract_len": 120,
    "max_len": 60,
    "lowercase": true,
    "space_to_underscore": true,
    "include_images": true,
    "include_pdfs": true,
    "include_docs": true,
    "copy_mode": true
}
```

### 文档说明

#### README.md (项目主文档)
- **内容**：项目概述、快速开始、功能特性
- **用途**：项目介绍和基本使用指南
- **大小**：5.2KB，205行

#### 使用说明.md (详细指南)
- **内容**：完整的使用教程、配置详解、故障排除
- **用途**：用户操作手册
- **大小**：7.6KB，326行

## 🔧 技术架构

### 模块化设计
```
┌─────────────────┐
│   GUI Layer     │ ← file_renamer_gui.py
├─────────────────┤
│  Service Layer  │ ← deepseek_api_service.py
│                 │ ← ai_ocr_service.py
├─────────────────┤
│  Config Layer   │ ← config.json
│                 │ ← app_config.json
└─────────────────┘
```

### 数据流
1. **用户输入** → GUI界面
2. **文件选择** → 文件系统
3. **内容识别** → AI服务
4. **重命名处理** → 文件操作
5. **结果反馈** → GUI界面

## 🎯 设计原则

### 1. 模块化
- 每个模块职责单一
- 模块间低耦合
- 便于维护和扩展

### 2. 用户友好
- 图形界面操作
- 详细的使用说明
- 完善的错误处理

### 3. 可配置性
- 灵活的配置选项
- 支持自定义规则
- 易于调整参数

### 4. 安全性
- 本地处理数据
- API密钥安全存储
- 操作可回滚

## 📊 项目统计

### 代码统计
- **总代码行数**：约2,600行
- **Python文件**：4个
- **文档文件**：3个
- **配置文件**：2个

### 文件大小
- **总大小**：约110KB
- **最大文件**：file_renamer_gui.py (74KB)
- **最小文件**：requirements.txt (95B)

### 功能覆盖
- ✅ 图形界面
- ✅ 文件操作
- ✅ AI集成
- ✅ 配置管理
- ✅ 文档说明
- ✅ 打包部署

## 🚀 部署方式

### 开发环境
```bash
# 克隆项目
git clone [repository-url]
cd file_name_demo

# 创建虚拟环境
python -m venv .venv
source .venv/bin/activate

# 安装依赖
pip install -r requirements.txt
pip install -r requirements_gui.txt

# 运行应用
python file_renamer_gui.py
```

### 生产环境
```bash
# 打包应用
python build_app.py

# 生成可执行文件
# macOS: 智能文件重命名工具.app
# Windows: 智能文件重命名工具.exe
```

## 🔄 维护指南

### 代码维护
- 遵循Python PEP8规范
- 添加适当的注释
- 保持模块独立性

### 文档维护
- 及时更新使用说明
- 记录重要变更
- 保持文档一致性

### 配置维护
- 定期检查依赖版本
- 更新API配置
- 备份重要配置

---

**项目版本**：1.0.0  
**最后更新**：2024年12月  
**维护状态**：活跃维护中
